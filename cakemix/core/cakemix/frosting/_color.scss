// cm-color
// ----------------------------------------------
//
//
$cm-palette-types: (
    'default': (
     '50': '50', 
    '100': '100', 
    '200': '200', 
    '300': '300', 
    '400': '400', 
    '500': '500',
    '600': '600',
    '700': '700',
    '800': '800',
    '900': '900',
    '950': '950'
    ),
    'neutral': (
     '50': 'N50', 
    '100': '50', 
    '200': '100', 
    '300': '200', 
    '400': 'N300', 
    '500': 'N400',
    '600': '400',
    '700': 'N600',
    '800': '700',
    '900': '800',
    '950': '900'
    ),
    'accent': (
     '50': '50', 
    '100': '100', 
    '200': '200', 
    '300': '300', 
    '400': '400', 
    '500': '500',
    '600': '600',
    '700': '700',
    '800': '800',
    '900': '900',
    '950': '950'
    )
);
$cm-palettes: (
  'red': (
     '50': #FFEBEE,
    '100': #FFCDD2,
    '200': #EF9A9A,
    '300': #E57373,
    '400': #EF5350,
    '500': #F44336,
    '600': #E53935,
    '700': #D32F2F,
    '800': #C62828,
    '900': #B71C1C,
    '950': #A41919,
    'A50': #FFACA9,
    'A100': #FF8A80,
    'A200': #FF5252,
    'A400': #FF1744,
    'A600': #EB152A,
    'A700': #D50000
  ),
  'pink': (
    '50':   #FCE4EC,
    '100':  #F8BBD0,
    '200':  #F48FB1,
    '300':  #F06292,
    '400':  #EC407A,
    '500':  #E91E63,
    '600':  #D81B60,
    '700':  #C2185B,
    '800':  #AD1457,
    '900':  #880E4F,
    '950':  #6F0B41,
    'A100': #FF80AB,
    'A200': #FF4081,
    'A400': #F50057,
    'A700': #C51162
  ),
  'purple': (
    '50':   #F3E5F5,
    '100':  #E1BEE7,
    '200':  #CE93D8,
    '300':  #BA68C8,
    '400':  #AB47BC,
    '500':  #9C27B0,
    '600':  #8E24AA,
    '700':  #7B1FA2,
    '800':  #6A1B9A,
    '900':  #4A148C,
    '950':  #37107A,
    'A100': #EA80FC,
    'A200': #E040FB,
    'A400': #D500F9,
    'A700': #AA00FF
  ),
  'deep-purple': (
    '50':   #EDE7F6,
    '100':  #D1C4E9,
    '200':  #B39DDB,
    '300':  #9575CD,
    '400':  #7E57C2,
    '500':  #673AB7,
    '600':  #5E35B1,
    '700':  #512DA8,
    '800':  #4527A0,
    '900':  #311B92,
    '950':  #271789,
    'A100': #B388FF,
    'A200': #7C4DFF,
    'A400': #651FFF,
    'A700': #6200EA
  ),
  'indigo': (
    '50':   #E8EAF6,
    '100':  #C5CAE9,
    '200':  #9FA8DA,
    '300':  #7986CB,
    '400':  #5C6BC0,
    '500':  #3F51B5,
    '600':  #3949AB,
    '700':  #303F9F,
    '800':  #283593,
    '900':  #1A237E,
    '950':  #12186E,
    'A100': #8C9EFF,
    'A200': #536DFE,
    'A400': #3D5AFE,
    'A700': #304FFE
  ),
  'blue': (
    '50':   #E3F2FD,
    '100':  #BBDEFB,
    '200':  #90CAF9,
    '300':  #64B5F6,
    '400':  #42A5F5,
    '500':  #2196F3,
    '600':  #1E88E5,
    '700':  #1976D2,
    '800':  #1565C0,
    '900':  #0D47A1,
    '950':  #0A3785,
    'A100': #82B1FF,
    'A200': #448AFF,
    'A400': #2979FF,
    'A700': #2962FF
  ),
  'light-blue': (
    '50':   #E1F5FE,
    '100':  #B3E5FC,
    '200':  #81D4FA,
    '300':  #4FC3F7,
    '400':  #29B6F6,
    '500':  #03A9F4,
    '600':  #039BE5,
    '700':  #0288D1,
    '800':  #0277BD,
    '900':  #01579B,
    '950':  #014989,
    'A100': #80D8FF,
    'A200': #40C4FF,
    'A400': #00B0FF,
    'A700': #0091EA
  ),
  'cyan': (
    '50':   #E0F7FA,
    '100':  #B2EBF2,
    '200':  #80DEEA,
    '300':  #4DD0E1,
    '400':  #26C6DA,
    '500':  #00BCD4,
    '600':  #00ACC1,
    '700':  #0097A7,
    '800':  #00838F,
    '900':  #006064,
    '950':  #005052,
    'A100': #84FFFF,
    'A200': #18FFFF,
    'A400': #00E5FF,
    'A700': #00B8D4
  ),
  'teal': (
    '50':   #E0F2F1,
    '100':  #B2DFDB,
    '200':  #80CBC4,
    '300':  #4DB6AC,
    '400':  #26A69A,
    '500':  #009688,
    '600':  #00897B,
    '700':  #00796B,
    '800':  #00695C,
    '900':  #004D40,
    '950':  #003D32,
    'A100': #A7FFEB,
    'A200': #64FFDA,
    'A400': #1DE9B6,
    'A700': #00BFA5
  ),
  'green': (
    '50':   #E8F5E9,
    '100':  #C8E6C9,
    '200':  #A5D6A7,
    '300':  #81C784,
    '400':  #66BB6A,
    '500':  #4CAF50,
    '600':  #43A047,
    '700':  #388E3C,
    '800':  #2E7D32,
    '900':  #1B5E20,
    '950':  #155119,
    'A100': #B9F6CA,
    'A200': #69F0AE,
    'A400': #00E676,
    'A700': #00C853
),
  'light-green': (
    '50':   #F1F8E9,
    '100':  #DCEDC8,
    '200':  #C5E1A5,
    '300':  #AED581,
    '400':  #9CCC65,
    '500':  #8BC34A,
    '600':  #7CB342,
    '700':  #689F38,
    '800':  #558B2F,
    '900':  #33691E,
    '950':  #245A16,
    'A100': #CCFF90,
    'A200': #B2FF59,
    'A400': #76FF03,
    'A700': #64DD17
  ),
  'lime': (
    '50':   #F9FBE7,
    '100':  #F0F4C3,
    '200':  #E6EE9C,
    '300':  #DCE775,
    '400':  #D4E157,
    '500':  #CDDC39,
    '600':  #C0CA33,
    '700':  #AFB42B,
    '800':  #9E9D24,
    '900':  #827717,
    '950':  #695E11,
    'A100': #F4FF81,
    'A200': #EEFF41,
    'A400': #C6FF00,
    'A700': #AEEA00
  ),
  'yellow': (
    '50':   #FFFDE7,
    '100':  #FFF9C4,
    '200':  #FFF59D,
    '300':  #FFF176,
    '400':  #FFEE58,
    '500':  #FFEB3B,
    '600':  #FDD835,
    '700':  #FBC02D,
    '800':  #F9A825,
    '900':  #F57F17,
    '950':  #F2610D,
    'A100': #FFFF8D,
    'A200': #FFFF00,
    'A400': #FFEA00,
    'A700': #FFD600
  ),
  'amber': (
    '50':   #FFF8E1,
    '100':  #FFECB3,
    '200':  #FFE082,
    '300':  #FFD54F,
    '400':  #FFCA28,
    '500':  #FFC107,
    '600':  #FFB300,
    '700':  #FFA000,
    '800':  #FF8F00,
    '900':  #FF6F00,
    '950':  #FF4F00,
    'A100': #FFE57F,
    'A200': #FFD740,
    'A400': #FFC400,
    'A700': #FFAB00
   ),
  'orange': (
    '50':   #FFF3E0,
    '100':  #FFE0B2,
    '200':  #FFCC80,
    '300':  #FFB74D,
    '400':  #FFA726,
    '500':  #FF9800,
    '600':  #FB8C00,
    '700':  #F57C00,
    '800':  #EF6C00,
    '900':  #E65100,
    '950':  #DC4100,
    'A100': #FFD180,
    'A200': #FFAB40,
    'A400': #FF9100,
    'A700': #FF6D00
  ),
  'deep-orange': (
    '50':   #FBE9E7,
    '100':  #FFCCBC,
    '200':  #FFAB91,
    '300':  #FF8A65,
    '400':  #FF7043,
    '500':  #FF5722,
    '600':  #F4511E,
    '700':  #E64A19,
    '800':  #D84315,
    '900':  #BF360C,
    '950':  #983314,
    'A100': #FF9E80,
    'A200': #FF6E40,
    'A400': #FF3D00,
    'A700': #DD2C00
  ),
  'brown': (
    '50':   #EFEBE9,
    '100':  #D7CCC8,
    '200':  #BCAAA4,
    '300':  #A1887F,
    '400':  #8D6E63,
    '500':  #795548,
    '600':  #6D4C41,
    '700':  #5D4037,
    '800':  #4E342E,  
    '900':  #3E2723,  
    '950':  #32231E,
    'N50':  #F6F4F3,
    'N300': #AD9790,
    'N400': #987B71,
    'N600': #735045
  ),
  'grey': (
    '50':   #FAFAFA,
    '100':  #F5F5F5,
    '200':  #EEEEEE,
    '300':  #E0E0E0,
    '400':  #BDBDBD,
    '500':  #9E9E9E,
    '600':  #757575,
    '700':  #616161,
    '800':  #424242,
    '900':  #212121,
    '950':  #121212,
    'N50':  #FEFEFE,
    'N300': #E4E4E4,
    'N400': #D1D1D1,
    'N600': #9A9A9A
  ),
  'blue-grey': (
    '50':   #ECEFF1,
    '100':  #CFD8DC,
    '200':  #B0BEC5,
    '300':  #90A4AE,
    '400':  #78909C,
    '500':  #607D8B,
    '600':  #546E7A,
    '700':  #455A64,
    '800':  #37474F,
    '900':  #263238,
    '950':  #151B1E,
    'N50':  #F6F7F8,
    'N300': #9BADB5,
    'N400': #839AA5,
    'N600': #627884
  ),
  'custom': (
    '50':  #D7ECF9,
    '100': #A1D2F2,
    '200': #61B1EA,
    '300': #2C8FD5,
    '400': #1077C1,
    '500': #0067B1,
    '600': #005C9E,
    '700': #00528E,
    '800': #004272,
    '900': #00365C,
    '950': #002947
  ),
  'alpha': (
    '50':   rgba(255, 255, 255, .95),
    '100':  rgba(255, 255, 255, .90),
    '200':  rgba(255, 255, 255, .83),
    '300':  rgba(255, 255, 255, .69),
    '400':  rgba(255, 255, 255, .33),
    '500':  transparent,
    '600':  rgba(0, 0, 0, .25),
    '700':  rgba(0, 0, 0, .38),
    '800':  rgba(0, 0, 0, .58),
    '900':  rgba(0, 0, 0, .78),
    '950':  rgba(0, 0, 0, .88),
    'N50':  rgba(255, 255, 255, .98),
    'N300': rgba(255, 255, 255, .75),
    'N400': rgba(255, 255, 255, .45),
    'N600': rgba(255, 255, 255, .25)
  )
);

//# Color Function
// ----------------------------------------------
//

@function cm-color($color-name, $color-shade:null) {
  @if ($color-shade != null) {
    // map inception
    @return map-get(map-get($cm-palettes, $color-name), $color-shade);
  } @else {
    @return map-get($cm-palettes, $color-name);
  }
}

// LINEAR to LOGARITHMIC and vicev-ersa
@function lin2log($n) { @if $n <= 0.0031308 { @return $n * 12.92; } @else { @return 1.055 * pow($n, 1/2.4) - 0.055; } }
@function log2lin($n) { @if $n <= 0.04045 { @return $n / 12.92; } @else { @return pow((($n + 0.055)/1.055), 2.4); } }

// sRGB BT-709 BRIGHTNESS
@function brightness($c) {
	$rlin: log2lin(red($c)/255);
	$glin: log2lin(green($c)/255);
	$blin: log2lin(blue($c)/255);
	@return lin2log(0.2126 * $rlin + 0.7152 * $glin + 0.0722 * $blin) * '100';
}


// Compares contrast of a given color to the light/dark arguments and returns whichever is most 'contrasty'
@function cm-contrast($color, $dark: #000000, $light: #ffffff) {
  @if $color == null {
    @return null;
  }
  @else {
    $color-brightness: brightness($color);  
    $light-text-brightness: brightness($light);
    $dark-text-brightness: brightness($dark);
    
    @return if(abs($color-brightness - $light-text-brightness) > abs($color-brightness - $dark-text-brightness), $light, $dark);  
  }
}